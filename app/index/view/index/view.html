<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    {include file="meta"/}
    <link rel="stylesheet" type="text/css" href="/static/css/themes.css"/>
</head>
<body>
<!--å¤´éƒ¨å†…å®¹-->
{include file="header"/}
<div class="wrapper w1000">
    <div class="breadcrumb"><strong>å½“å‰ä½ç½®ï¼š</strong> <a href="/"><i class="fa fa-home"></i> é¦–é¡µ</a> &raquo;
        <a href="{:url('/'.$_channel)}">{:getChannelName($_channel)}</a> &raquo; {$title}
    </div>
    <div class="contentShow fl">
        <div class="project-header"><h1>{$title}</h1>
            <p><i class="fa fa-folder"></i> &nbsp;æ‰€å±åˆ†ç±»ï¼š{:getSourceById($type)['value']}</p>
            <div class="project-line fl">
                <span><i class="fa fa-eye"></i> &nbsp;æµè§ˆï¼š{$clicks}æ¬¡</span>
                <span class="transverse">-</span>
                <span><i class="fa fa-cloud-download"></i> &nbsp;ä¸‹è½½ï¼š{$downs}æ¬¡</span>
                <span class="transverse">-</span>
                <span><i class="fa fa-comment"></i> &nbsp;è¯„è®ºï¼š{$comments}æ¬¡</span>
                <span class="transverse">-</span>
                <span><i class="fa fa-calendar"></i> &nbsp;æ›´æ–°æ—¶é—´ï¼š{$create_time}</span>
            </div>
            <div class="project-share fr">
                <div class="bdsharebuttonbox" data-tag="share_1">
                    <a class="ttqq" data-cmd="sqq" title="åˆ†äº«åˆ°QQå¥½å‹"></a>
                    <a class="ttwx" data-cmd="weixin" href="#"></a>
                    <a class="ttqzone" data-cmd="qzone"></a>
                    <a class="ttsina" data-cmd="tsina"></a>
                    <a class="tthuaban" data-cmd="huaban"></a>
                    <a class="ttfbook" data-cmd="fbook"></a>
                    <div id="fxcode">
                        <div class="f fxjg">åˆ†äº«åˆ°å¾®ä¿¡æœ‹å‹åœˆ</div>
                        <div id="fxcolse" class="r fxjg"><b>X</b></div>
                    </div>
                </div>
            </div>
            <div class="clear"></div>
        </div>
        <div class="project-content demo-pic">
            <img src="{$image_src}" alt="{$title}" class="project-thumbile">
            {if $ie}<img src="/static/images/ie{$ie}.png" class="thumbile" alt="ieå…¼å®¹{$ie}">{/if}
        </div>
        <div class="google-ad">
            å¹¿å‘Šä½ç½®
        </div>
        <div class="project-content">
            <div class="thumbile">
                {if in_array($channel,['jquery','templates'])}
                <a href="/demo/{$id}" target="_blank" class="btn btn-success" rel="nofollow"><i class="fa fa-eye"></i> &nbsp;æŸ¥çœ‹æ¼”ç¤º</a>
                {/if}
                <a href="javascript:void(0)" onclick="openDownModel('1');" class="btn btn-danger"><i class="fa fa-cloud-download"></i> &nbsp;ç«‹å³ä¸‹è½½</a>
                <a class="btn btn-jiance"><img src="/static/picture/jiance.png" width="149" height="27"/></a>
            </div>
            <!--<div class="intsCon">ç§¯åˆ†è¯´æ˜ï¼šæ³¨å†Œå³é€15ç‰›å¸ï¼Œæ¯æ—¥ç­¾åˆ°å¯è·å¾—5ç‰›å¸ï¼Œæˆä¸ºVIPä¼šå‘˜å¯æ°¸ä¹…å…ç§¯åˆ†ä¸‹è½½ï¼Â Â Â 
                <a href="/recharge-index.html" target="_blank">å……å€¼ç§¯åˆ†</a>Â Â Â 
                <a href="/main/vip.html" target="_blank">å……å€¼ä¼šå‘˜</a>Â Â Â 
                <a href="/info/28.html">æ›´å¤šè¯´æ˜Â»</a>
            </div>-->
            <div class="description">ç´ æç®€ä»‹ï¼š{$description}</div>
            <div class="keyword">
                <i class="fa fa-tags"></i> &nbsp;æ ‡ç­¾ï¼š
                                           {foreach $tags as $v}
                <a class="tag" href="/tags/{$v}.html">{$v}</a>
                                           {/foreach}
            </div>
        </div>
        {if $content}
        <div class="in2-tit"><h4><i class="fa fa-check-square-o"></i> è¯¦æƒ…ä»‹ç»åŠä½¿ç”¨æ–¹æ³•</h4></div>
        <div class="project-content">
            {$content|raw}
        </div>
        {/if}
        <!-- <div class="in2-tit"><h4><i class="fa fa-sitemap"></i> æ–‡ä»¶ç›®å½•ç»“æ„</h4></div>
         <div class="project-content">
             <div class="dir">
                 <div class="con">
                     <ul>
                         <li class='folder'><i class='fa fa-folder-open-o' aria-hidden='true'></i> css</li>
                         <ul>
                             <li>â” demo.css</li>
                             <li>â” normalize.css</li>
                             <li>â” style.css</li>
                         </ul>
                         <li class='folder'><i class='fa fa-folder-open-o' aria-hidden='true'></i> images</li>
                         <ul>
                             <li>â” anhui.png</li>
                             <li>â” beijing.png</li>
                             <li>â” chongqing.png</li>
                             <li>â” fujian.png</li>
                         </ul>
                         <li>â” index.html</li>
                         <li class='folder'><i class='fa fa-folder-open-o' aria-hidden='true'></i> js</li>
                         <ul>
                             <li>â” DD_belatedPNG.js</li>
                             <li>â” jquery-1.11.0.min.js</li>
                             <li>â” main.js</li>
                         </ul>
                     </ul>
                 </div>
             </div>
         </div>-->
        <div class="project-content project-top-border">
            <div class="social">
                <div class="social-inner">
                    <a class="social-left" href="{$prev->id ? '/'.$prev->id.'.html':'javascript:;'}"><i class="fa fa-chevron-left"></i><span>{$prev->title ?: 'æ²¡æœ‰äº†'}</span></a>
                    <div class="social-round">
                        <div class="social-round-border"><span></span></div>
                        <i onclick="Backtop();" class="social-round-inner fa fa-arrow-up"></i></div>
                    <a class="social-right" href="{$next->id ? '/'.$next->id.'.html':'javascript:;'}"><span>{$next->title?:'æ²¡æœ‰äº†'}</span><i class="fa fa-chevron-right"></i></a>
                </div>
            </div>
        </div>
        <div class="xiangguan"><h4><i class="fa fa-coffee"></i> ç›¸å…³ç´ æ -
            <span class="z14">{:getSourceById($type)['value']}</span></h4>
            <!--<div class="xg">
                <div class="xg-model">
                    <div class="view">
                        <a href="/corechart.html" target="_blank"><img src="/static/picture/0c97ff6977ff995299117b6105b46736_20161213140028.png" width="220" height="140" alt="jQueryåœ†å½¢å›¾è¡¨ç»Ÿè®¡æ’ä»¶corechart.js">
                            <div class="cover-info">
                                <div class="tit">jQueryåœ†å½¢å›¾è¡¨ç»Ÿè®¡æ’ä»¶corechart.js</div>
                                <div class="des">jQueryåœ†å½¢å›¾è¡¨ç»Ÿè®¡æ’ä»¶corechart.jsï¼Œå…¼å®¹æ€§å¾ˆå¥½ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿéå¸¸ç®€å•ï¼Œçœ‹ä¸‹ä»£ç å°±çŸ¥é“æ€ä¹ˆç”¨äº†ã€‚</div>
                                <div class="column"><i class="fa fa-list-ul"></i> &nbsp;è¡¨æ ¼/ç»Ÿè®¡/åœ°å›¾</div>
                            </div>
                            <div class="cover-stat">
                                <i class="fa fa-comment"></i> &nbsp;<span>3</span>&nbsp;&nbsp;<i class="fa fa-cloud-download"></i> &nbsp;<span>13</span>
                            </div>
                        </a>
                        <div class="user">
                            <a title="Copyrightçš„ä¸»é¡µ" href="/u/252.html" target="_blank"><i class="fa fa-user-secret"></i></a>
                        </div>
                    </div>
                    
                    <div class="clear"></div>
                </div>
            </div>-->
        </div>
        <div class="in2-tit"><h4>
            <i class="fa fa-comments-o"></i> è®¨è®ºè¿™ä¸ªç´ æï¼ˆ{$comments}ï¼‰<span class="z14">å›ç­”ä»–äººé—®é¢˜æˆ–åˆ†äº«ä½¿ç”¨å¿ƒå¾—ä¼šå¥–åŠ±ç§¯åˆ†</span>
        </h4></div>
        
        <div class="in2" id="meglist"><a name="anchor"></a>
            {if !$comment_list}
            <p id="no-m-data">ã€’_ã€’ å±…ç„¶ä¸€ä¸ªè¯„è®ºéƒ½æ²¡æœ‰â€¦â€¦</p>
            {/if}
            {foreach $comment_list as $v}
            <div class="m-model">
                <div class="m-head">
                    <a href="javascript:;"><img src="{:get_avatar($v['avatar'],$v['default_avatar'])}"><span style="color:#333333;">L{$v.level} {$v.level_name}</span></a>
                </div>
                <div class="m-arrow"></div>
                <div class="m-frame">
                    <div class="m-tit">
                        <div class="fl"><i class="fa fa-user-circle-o"></i> {$v.nickname}&nbsp;&nbsp;</div>
                        <div class="fr"><span class="z12"><i class="fa fa-calendar"></i> {$v.create_time}</span>
                        </div>
                        <div class="clear"></div>
                    </div>
                    <div class="m-con"><p>{$v.content}</p>
                        {foreach $v['data'] as $val}
                        <div class="reply">
                            <a href="javascript:;"><i class="fa fa-user-circle-o"></i> {$val.nickname}</a>ï¼š{$val.content}
                        </div>
                        {/foreach}
                        <a class="hf" id="hf{$v.id}" onclick="replyButton('{$v.id}')"><i class="fa fa-share-square-o"></i> å›å¤</a>
                        <div class="clear"></div>
                        <div class="allmegForm" id="sonMeg{$v.id}"></div>
                    </div>
                </div>
            </div>
            {/foreach}
        </div>
        <div class="message in2">
            <div class="alert-success" id="err"></div>
            <textarea id='body' class="textarea" style='height:120px; width:100%;' placeholder="æ‚¨æœ‰ä»€ä¹ˆæƒ³æ³•è¦è¯´çš„å—ï¼Ÿå¸®åŠ©ä»–äººã€åˆ†äº«æŠ€æœ¯ä¼šè·å¾—ç§¯åˆ†å¥–åŠ±ï¼"></textarea>
            <div class="Mbutton">
                <span class="fl"><i class="fa fa-exclamation-triangle"></i> &nbsp;æ–‡æ˜ä¸Šç½‘ï¼Œç†æ€§å‘è¨€ï¼&nbsp;&nbsp;&nbsp;ğŸ˜‰ é˜¿é‡Œäº‘å¹¸è¿åˆ¸ï¼Œ
                    <a style="color:#ff6600" target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=etxd8sor">æˆ³æˆ‘é¢†å–</a>
                </span>
                <span class="fr">
                    <button onclick="getPlainTxt('{$id}',0)" type="button" id="myButton" class="btn btn-primary"><i class="fa fa-commenting"></i> &nbsp;å‘è¡¨è¯„è®º</button>
                </span>
            </div>
        </div>
    </div>
    <div class="sidebar fr">
        <ul class="zuozhe list-group"><h6>ç´ æå‘å¸ƒè€…ä¿¡æ¯</h6>
            <a href="/u{$user_id}.html"><img src="{:get_avatar($avatar,$default_avatar)}"></a>
            <div class="zuox f">
                <h4><a href="/u{$user_id}.html">{$nickname}</a></h4>
                <span class="job"><i class="fa fa-briefcase"></i> {$job|default='èŒä½æœªå¡«å†™'}</span>
            </div>
            <a class="btn btn-z" href="/u{$user_id}.html"><i class="fa fa-plus-circle"></i> TAå‘å¸ƒçš„ç´ æ<!--<span>(3)</span>-->
            </a>
            <a class="btn btn-z" onclick="collect()"><span id="shoucang"><i class="fa fa-heart-o"></i> æ”¶è—æ­¤ç´ æ</span></a>
            <div class="df"></div>
        </ul>
        <ul class="s_nav">
            <li><a href="/{$channel}/{$type}.html"><i class="fa fa-bar-chart ls"></i> &nbsp;&nbsp;{:getSourceById($type)['value']}
            </a></li>
        </ul>
        <div class="b20"></div>
        {include file="tags"/}
    </div>
    <div class="clear"></div>
</div>
<div class="replyFormModel">
    <div class="replyForm">
        <input type="hidden" name="parent_id" id="parent_id"/>
        <input type="text" name="replyBody" id="replyBody" class="inp fl" placeholder="è¯·è¾“å…¥å›å¤å†…å®¹â€¦â€¦"/>
        <button onclick="getPlainTxt('{$id}', 1)" type="button" id="myReplyButton" class="sub fr">
            <i class="fa fa-commenting"></i> &nbsp;æäº¤å›å¤
        </button>
        <div class="clear"></div>
    </div>
</div>
<div id="openDownModel">
    <div class="downModel">
        <div class="tit">
            <i class="fa fa-money red"></i> æˆ‘çš„{if $buy_type == 1}ITç§¯åˆ†{else/}ITå¸{/if}ä½™é¢ï¼š<span class="download_mymoney" id="download_mymoney">{if $buy_type == 1 } {$user_points} {else/} {$user_coin}{/if}</span>
            <i class="fa fa-download"></i> å·²ä¸‹è½½æ¬¡æ•°ï¼š<span class="download_times">{$downs}</span>
        </div>
        <div class="con">
            <span class="download_money fl" id="download_money">{if $is_buy}æ­¤èµ„æºä¸‹è½½è¿‡ï¼Œå…è´¹ä¸‹è½½{else}æ‰€éœ€{if $buy_type == 1}ITç§¯åˆ†{else/}ITå¸{/if}ï¼š{/if}<span id="points_money" class="en">{$points}</span></span>
            <a href="javascript:void(0)" onclick="downloads('{$id}');" class="download_btn fr" id="download_btn"><i class="fa fa-download"></i>
                <span id="download_start">å¼€å§‹ä¸‹è½½</span></a></div>
        <div class="instructions"><p>
            <strong><i class="fa fa-money red"></i> ç§¯åˆ†è·å–ï¼š</strong>ç­¾åˆ°ã€è¯„è®ºã€å‘å¸ƒç´ æã€ç´ æè¢«ä¸‹è½½...&nbsp;&nbsp;&nbsp;&nbsp;<!--<a target="_blank" href="/recharge-index/1.html"><span class="u">Â» åœ¨çº¿å……å€¼</span></a>ï¼ˆ10ç‰›å¸=1å…ƒï¼‰-->
        </p>
            <!--<div class="viptips"><a href="/recharge-vip.html" target="_blank">æˆä¸ºVIPå¯æ°¸ä¹…å…ç§¯åˆ†ä¸‹è½½ç´ æ
                <span class="u">Â» æŸ¥çœ‹è¯¦æƒ…</span></a>
            </div>-->
        </div>
    </div>
</div>


<script type="text/javascript">
    var $title = '{$title}';
    var id     = '{$id}';

    function collect() {
        var id = '{$id}';
        if (!'{:session("user.id")}') {
            return login(1);
        }
        layer.load()
        $.post("/index/collect.html", {'id': id}, function (res) {
            layer.closeAll();
            if (res.status == 2) {
                login('1');
            } else {
                layer.msg(res.msg)
            }
        }, 'json')
    }

    function openDownModel() {
        if (!'{:session("user.id")}') {
            return login(1);
        }
        layer.open({
            type:      1,
            title:     $title,
            skin:      'layui-layer-lan',
            area:      ['600px'],
            scrollbar: false,
            content:   $('#openDownModel')
        });
    }

    function downloads(id) {
        $("#download_btn").html('<i class="fa fa-spinner fa-pulse fa-fw margin-bottom"></i>&nbsp;ä¸‹è½½ä¸­â€¦');
        $.post("/index/download.html", {'id': id}, function (json) {
            if (json.status == 2) {
                login('1');
            } else if (json.status == 0) {
                layer.msg(json.msg)
            } else if (json.status == 1) {
                layer.closeAll();
                window.location.href = json.data.url
            } else if (json.status == 100) {
                layer.closeAll();
                layer.alert('æŠ±æ­‰ï¼Œä»Šå¤©çš„ä¸‹è½½æ¬¡æ•°å·²ç»è¾¾åˆ°ä¸Šé™ï¼', {title: 'å‹æƒ…æç¤º', btn: ['å…³é—­'], btnAlign: 'c'})
            }
            $("#download_btn").
                html('<i class="fa fa-download"></i> <span id="download_start" data-tip="å¼€å§‹ä¸‹è½½">å¼€å§‹ä¸‹è½½</span>');
        }, 'json');
    }

    function getPlainTxt(aid, type) {
        var mBody     = $("#body").val();
        var parent_id = 0;
        if (type) {
            parent_id = $("#parent_id").val();
            mBody     = $('#replyBody').val()
        }


        if (mBody.length < 4) {
            $("#err").html('è¯„è®ºå†…å®¹ä¸å¾—å°‘äº4ä¸ªå­—ç¬¦');
            $("#err").css("display", "block");
            return false;
        }
        $.post("/index/createComment.html", {
            'res_id':    aid,
            'parent_id': parent_id,
            'content':   mBody,
        }, function (json) {
            if (json.status == 2) {
                $("#err").html(json.msg);
                $("#err").css("display", "block");
                login('1')
            } else if (json.status == 1) {
                if (parent_id) {
                    layer.msg('è¯„è®ºæäº¤æˆåŠŸ')
                    $("#hf" + parent_id).before(json.data.tpl)
                } else {
                    $("#err").css("display", "block");
                    $("#err").html('<i class="fa fa-check"></i> &nbsp;è¯„è®ºæäº¤æˆåŠŸï¼');
                    $("#meglist").append(json.data.tpl);
                    $("#no-m-data").css("display", "none");
                    setTimeout(function () {
                        $("#err").css("display", "none");
                    }, 3000)
                }

            } else {
                $("#err").html(json.msg);
                $("#err").css("display", "block")
            }
        }, 'json')
    }


    function replyButton(parent_id) {
        $(".allmegForm").html('');
        $("#parent_id").val(parent_id);
        var formHtml = $(".replyFormModel").html();
        $("#sonMeg" + parent_id).html(formHtml);
    }

    function shoucang() {
        var aid  = '7030';
        var type = '1';
        $.getJSON("/home/shoucangPost.html", {'aid': aid, 'type': type}, function (json) {
            if (json.status == 'nologin') {
                login('1');
            } else if (json.status == 'no') {
                $("#shoucang").html('<i class="fa fa-heart-o"></i> æ”¶è—æ­¤ç´ æ');
                layer.msg(json.meg);
            } else if (json.status == 'yes') {
                $("#shoucang").html('<i class="fa fa-heart"></i> æ‚¨å·²æ”¶è—');
                layer.msg(json.meg);
            }
        })
    }
</script>


<script type="text/javascript" src="/static/js/shCore.js"></script>
<script type="text/javascript" src="/static/js/shBrushXml.js"></script>
<script type="text/javascript">SyntaxHighlighter.highlight();</script>
<!--å°¾éƒ¨å†…å®¹-->
{include file="footer"/}

<script src="/static/js/jquery.qrcode.min.js"></script>
<script type="application/javascript">
    var sharrul   = window.location;
    var shartitle = "{$title}";
    var sharpic   = "{:request()->domain()}{$image_src}";

    jQuery('#fxcode').qrcode({
        render: "canvas",
        width:  175,
        height: 175,
        text:   sharrul
    });

    $(".ttwx").click(function () {
        $("#fxcode").css("display", "block")
    });
    $("#fxcolse").click(function () {
        $("#fxcode").css("display", "none")
    });
    $(".ttqq").click(function () {
        shareqq(shartitle, sharrul, sharpic)
    });
    $(".ttqzone").click(function () {
        shareToQq(shartitle, sharrul, sharpic)
    });
    $(".ttsina").click(function () {
        shareToXl(shartitle, sharrul, sharpic)
    });
    $(".tthuaban").click(function () {
        sharehuaban(shartitle, sharrul, sharpic)
    });
    $(".ttfbook").click(function () {
        sharefb(shartitle, sharrul, sharpic)
    });

    function shareqq(title, url, picurl) {
        var shareqqzonestring = 'https://connect.qq.com/widget/shareqq/index.html?summary=' + title + '&url=' + url + '&pics=' + picurl;
        window.open(shareqqzonestring, 'newwindow', 'height=595,width=785,top=100,left=100')
    }

    function shareToQq(title, url, picurl) {
        var shareqqzonestring = 'https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title=' + title + '&url=' + url + '&pics=' + picurl;
        window.open(shareqqzonestring, 'newwindow', 'height=400,width=400,top=100,left=100')
    }

    function shareToXl(title, url, picurl) {
        var sharesinastring = 'http://v.t.sina.com.cn/share/share.php?title=' + title + '&url=' + url + '&content=utf-8&sourceUrl=' + url + '&pic=' + picurl;
        window.open(sharesinastring, 'newwindow', 'height=400,width=400,top=100,left=100')
    }

    function sharehuaban(title, url, picurl) {
        var sharesinastring = 'https://huaban.com/bookmarklet/?title=' + title + '&url=' + url + '&content=utf-8&sourceUrl=' + url + '&media=' + picurl;
        window.open(sharesinastring, 'newwindow', 'height=400,width=400,top=100,left=100')
    }

    function sharefb(title, url, picurl) {
        var sharesinastring = 'https://www.facebook.com/share.php?t=' + title + '&u=' + url + '&content=utf-8&sourceUrl=' + url + '&pic=' + picurl;
        window.open(sharesinastring, 'newwindow', 'height=400,width=400,top=100,left=100')
    }

</script>
</body>
</html>
